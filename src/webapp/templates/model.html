<html>
<meta name="viewport"
    content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">

<head>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script> -->
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css"
        integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/navigation.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/template.css') }}">
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/vue/2.7.0/vue.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">
    </script>
    <script src="{{ url_for('static',filename='js/utils.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js"
        integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
    <div class="nav">
        <div class="page">
            <nav class="page__menu menu">
                <ul class="menu__list r-list">
                    <li class="menu__group"><a href="/kuromesi" class="menu__link r-link text-underlined">KUROMESI</a></li>
                    <li class="menu__group"><a href="/model" class="menu__link r-link text-underlined">MODELING</a></li>
                    <li class="menu__group"><a href="/predict" class="menu__link r-link text-underlined">QUERY</a></li>
                    <li class="menu__group"><a href="/explore" class="menu__link r-link text-underlined">EXPLORE</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <div class="main">
        <div id="network">
            <div id="mynetwork" @click="click"></div>
            <div id="network_info">
                <h1>Information</h1>
                <div>
                    <div v-for="(v, k) in content">
                        <h2>{[ k ]}</h2>
                        <p>{[ v ]}</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="interaction">
            <div id="modeling"
                style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-between;">
                <div id="model_info"
                    style="display: flex; flex-direction: column; align-items: center; justify-content: space-between;">
                    <!-- <div v-if="type==0">
                        <h1>Control panel</h1>
                    </div>
                    <div v-if="type=='Component' || type=='Entry'">
                        <div class="group">
                            <input id="modeling" type="text" required v-model="cur_node['name']">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Name</label>
                        </div>
                        <div class="group">
                            <input id="modeling" type="text" required v-model="cur_node['description']">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Description</label>
                        </div>
                        <div id="buttons" style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-around;">
                            <button @click="add_node">Add Node</button>
                            <button @click="delete_node">Delete Node</button>
                            <button @click="modify_node">Modify Node</button>
                        </div>
                    </div>
                    <div v-if="type=='Software' || type=='Hardware' || type=='OS' || type=='Firmware'">
                        <div class="group">
                            <input id="modeling" type="text" required v-model="cur_node['name']">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Name</label>
                        </div>
                        <div class="group">
                            <input id="modeling" type="text" required v-model="cur_node['description']">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Description</label>
                        </div>
                        <div class="group">
                            <input id="modeling" type="text" required v-model="cur_node['product']">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Product</label>
                        </div>
                        <div style="overflow: auto;" v-if="if_recommend">
                            <p id="file_link" v-for="recom in recommendations"  @click="fill_product(recom)">{[ recom ]}</p>
                        </div>
                        <div class="group">
                            <input id="modeling" type="text" required v-model="cur_node['version']">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Version</label>
                        </div>
                        <div id="buttons" style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-around;">
                            <button @click="add_node">Add Node</button>
                            <button @click="delete_node">Delete Node</button>
                            <button @click="modify_node">Modify Node</button>
                        </div>
                    </div> -->
                    <div>
                        <!-- <div class="group">
                            <input id="modeling" type="text" required v-model="cur_component.product">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">test</label>
                        </div>
                        <p>{[ cur_component.product ]}</p> -->
                        <div v-for="(v, k) in cur_component">
                            <div class="group">
                                <input id="modeling" type="text" required v-model="cur_component[k]">
                                <span class="highlight"></span>
                                <span class="bar"></span>
                                <label id="modeling">{[ k ]}</label>
                            </div>
                            <div style="overflow: auto;" v-if="if_recommend && k == 'product'">
                                <p id="file_link" v-for="recom in recommendations"  @click="fill_product(recom)">{[ recom ]}</p>
                            </div>
                        </div>
                        
                        <div>
                            <input v-model="key">
                            <button @click="add_attribute">Add/Delete Attribute</button>
                        </div>
                        <div id="buttons" style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-around;">
                            <button @click="add_node">Add Node</button>
                            <button @click="delete_node">Delete Node</button>
                            <button @click="modify_node">Modify Node</button>
                        </div>
                    </div>
                </div>
                <div id="edge_control">
                    <div style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-between;">
                        <div class="group">
                            <input id="modeling" type="text" required :value="cur_edge.source">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Source</label>
                        </div>
                        <button @click="select_node('source')">Select Node</button>
                    </div>
                    <div style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-between;">
                        <div class="group">
                            <input id="modeling" type="text" required :value="cur_edge.dest">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label id="modeling">Destination</label>
                        </div>
                        <button @click="select_node('dest')">Select Node</button>
                    </div>
                    <div class="group">
                        <input id="modeling" type="text" required v-model="cur_edge.protocol">
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label id="modeling">Protocol</label>
                    </div>
                    <div id="buttons" style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-around;">
                        <button @click="add_edge">Add Edge</button>
                        <button @click="modify_edge">Modify Edge</button>
                    </div>
                </div>
                <div id="misc" style="height: 100%;">
                    <details class="custom-select">
                        <summary class="radios">
                            <input type="radio" name="item" id="default" title="Select component type" checked>
                            <input type="radio" name="item" id="item1" title="Component">
                            <input type="radio" name="item" id="item2" title="Software">
                            <input type="radio" name="item" id="item3" title="Hardware">
                            <input type="radio" name="item" id="item4" title="Firmware">
                            <input type="radio" name="item" id="item5" title="Operating system">
                            <input type="radio" name="item" id="item6" title="Entry">
                            <input type="radio" name="item" id="item7" title="Defender">
                        </summary>
                        <ul class="list" id="selection">
                            <li id="selection">
                                <label for="item1" @click="component_click('component')">Component</label>
                            </li>
                            <li id="selection">
                                <label for="item7" @click="component_click('defender')">Defender</label>
                            </li>
                            <li id="selection">
                                <label for="item2" @click="component_click('software')">Software</label>
                            </li>
                            <li id="selection">
                                <label for="item3" @click="component_click('hardware')">Hardware</label>
                            </li>
                            <li id="selection">
                                <label for="item4" @click="component_click('firmware')">Firmware</label>
                            </li>
                            <li id="selection">
                                <label for="item5" @click="component_click('os')">Operating system</label>
                            </li>
                            <li id="selection">
                                <label for="item6" @click="component_click('entry')">Entry</label>
                            </li>
                        </ul>
                    </details>
                    <div style="margin-top: 10%;">
                        <div style="display: flex; flex-direction: row; align-items: flex-start; justify-content: space-around;">
                            <input v-model="cur_project">
                            <button @click="save_graph">Save Graph</button>
                        </div>
                        <div style="overflow: auto;">
                            <h2>Projects</h2>
                            <div v-for="v in files">
                                <div :id="v">
                                    <p id="file_link" @click="load_project(v)">{[ v ]}</p>
                                </div>
                            </div>
                        </div>
                        <button @click="list_files">List</button>
                    </div>
                </div>
                
            </div>
            
        </div>
        
    </div>
    <script src="{{ url_for('static',filename='js/graph.js') }}"></script>
    <script src="{{ url_for('static',filename='js/modeling.js') }}"></script>

</body>

</html>